{% extends "base.html" %}

{% block content %}

<h2>{{ request.user.username}}'s List</h2>
<br>


<div class="row">
  {% for product in products %}
  <div class="col-md-3 mb-4">
    <div class="card shadow-lg  h-100 overflow-hidden product-card"
      style="transition: transform 0.3s ease, box-shadow 0.3s ease;">
      <!-- Image with hover zoom and gradient overlay -->
      <a href="{% url 'product_detail' product.id %}" class="position-relative d-block">
        <div class="image-container" style="position: relative; overflow: hidden; height: 250px;">
          <img src="{{ product.image.url }}" class="card-img-top" alt="{{ product.name }}"
            style="height: 100%; width: 100%; object-fit: cover; transition: transform 0.5s ease;">
          <div class="image-overlay"
            style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(180deg, rgba(0,0,0,0.2) 0%, rgba(0,0,0,0) 50%); transition: background 0.3s ease;">
          </div>
          <span class="badge bg-danger position-absolute top-0 start-0 m-2 px-3 py-2 rounded-pill"
            style="z-index: 1; transform: translateY(0); transition: transform 0.3s ease;">
            -{{ product.discount }}%
          </span>
        </div>
      </a>

      <!-- Card Body -->
      <div class="card-body d-flex flex-column p-3"
        style="background: linear-gradient(180deg, #f8f9fa 0%, #ffffff 100%);">
        <h5 class="card-title fw-bold text-dark mb-2" style="font-size: 1.25rem;">{{ product.name|truncatechars:30 }}
        </h5>
        <p class="mb-2 text-muted small"><strong>Brand:</strong> {{ product.brand }}</p>

        <div class="mt-auto">
          <p class="mb-2">
            <span class="text-success fw-bold" style="font-size: 1.1rem;">$ {{ product.price }}</span>
          </p>
          <p class="mb-3"><strong>In Stock:</strong>
            {% if product.stock > 0 %}
            <span class="text-success">({{ product.stock }})</span>
            {% else %}
            <span class="text-danger">Out of Stock</span>
            {% endif %}
          </p>
          <div class="d-flex gap-2">
            {% comment %} <a href="{% url 'product_detail' product.id %}"
              class="btn btn-warning text-dark fw-bold rounded-pill flex-grow-1"
              style="background: linear-gradient(90deg, #FCFF6C 0%, #FFD700 100%); border: none; padding: 10px; transition: background 0.3s ease, transform 0.2s ease;">
              View Details
            </a> {% endcomment %}
            <a href="{% url 'edit_product' product.id %}"
              class="btn btn-outline-primary fw-bold rounded-pill flex-grow-1"
              style="border: 2px solid #007bff; color: #007bff; padding: 10px; transition: background 0.3s ease, transform 0.2s ease;">
              Edit
            </a>
            <a href="{% url 'delete_product' product.id %}"
              class="btn btn-outline-danger fw-bold rounded-pill flex-grow-1"
              style="border: 2px solid #dc3545; color: #dc3545; padding: 10px; transition: background 0.3s ease, transform 0.2s ease;">
              Delete
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
  <style>
    .product-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15) !important;
    }

    .product-card:hover .card-img-top {
      transform: scale(1.1);
    }

    .product-card:hover .image-overlay {
      background: linear-gradient(180deg, rgba(0, 0, 0, 0.4) 0%, rgba(0, 0, 0, 0) 50%);
    }

    .product-card:hover .badge {
      transform: translateY(-3px);
    }

    .btn-warning:hover {
      background: linear-gradient(90deg, #FFD700 0%, #FCFF6C 100%) !important;
      transform: scale(1.05);
    }

    .btn-outline-primary:hover {
      background: linear-gradient(90deg, #007bff 0%, #0056b3 100%);
      color: #fff !important;
      border-color: #007bff;
      transform: scale(1.05);
    }

    .btn-outline-danger:hover {
      background: linear-gradient(90deg, #dc3545 0%, #c82333 100%);
      color: #fff !important;
      border-color: #dc3545;
      transform: scale(1.05);
    }
  </style>
  <style>
    .product-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15) !important;
    }

    .product-card:hover .card-img-top {
      transform: scale(1.1);
    }

    .product-card:hover .image-overlay {
      background: linear-gradient(180deg, rgba(0, 0, 0, 0.4) 0%, rgba(0, 0, 0, 0) 50%);
    }

    .product-card:hover .badge {
      transform: translateY(-3px);
    }

    .product-card:hover .btn {
      background: linear-gradient(90deg, #FFD700 0%, #FCFF6C 100%) !important;
      transform: scale(1.05);
    }
  </style>

  {% empty %}
  <p class="text-center">No products available.</p>
  {% endfor %}
</div>
</div>





















{% endblock %}